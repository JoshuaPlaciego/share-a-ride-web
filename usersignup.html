<!DOCTYPE html>
<html lang="en">
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <title>Share‑A‑Ride Registration</title>
  <style>
    body { font-family: Arial,sans-serif; max-width:400px; margin:2rem auto; }
    label { display:block; margin-top:1rem; }
    input, select, button { width:100%; padding:.5rem; margin-top:.3rem; }
    button { background:#007bff; color:#fff; border:none; cursor:pointer; }
    #msg { margin-top:1rem; font-weight:bold; }
  </style>
</head>
<body>
  <h2>Sign Up for Share‑A‑Ride</h2>
  <form id="signupForm">
    <label>First Name
      <input type="text" name="firstName" required>
    </label>
    <label>Last Name
      <input type="text" name="lastName" required>
    </label>
    <label>Gender
      <select name="gender" required>
        <option value="" disabled selected>Select gender</option>
        <option>Male</option>
        <option>Female</option>
        <option>Other</option>
      </select>
    </label>
    <label>Mobile Number
      <input type="tel" name="mobile" required>
    </label>
    <label>City of Residence
      <input type="text" name="city" required>
    </label>
    <label>Role
      <select name="role" required>
        <option value="" disabled selected>Select role</option>
        <option>Driver</option>
        <option>Rider</option>
        <option>Both</option>
      </select>
    </label>
    <label>Messenger Link
      <input type="url" name="messenger" placeholder="https://m.me/yourname" required>
    </label>
    <label>Email Address
      <input type="email" name="email" required>
    </label>
    <button type="submit">Register</button>
  </form>
  <div id="msg"></div>

  <script>
    const form = document.getElementById('signupForm');
    const msg  = document.getElementById('msg');

    form.addEventListener('submit', e => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());

      google.script.run
        .withSuccessHandler(res => {
          msg.style.color = res.success ? 'green' : 'red';
          msg.textContent   = res.message;
          if (res.success) form.reset();
        })
        .registerUser(data);
    });
  </script>
</body>
</html>
